<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HATIM OS | Ultimate Edition</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;700;900&display=swap" rel="stylesheet">

    <style>
        :root {
            --primary: #0078d4; /* Windows Blue */
            --hatim-green: #00ff88;
            --glass: rgba(25, 25, 35, 0.75);
            --glass-border: rgba(255, 255, 255, 0.1);
            --text: #ffffff;
            --taskbar-h: 48px;
        }

        * { box-sizing: border-box; user-select: none; }
        body { margin: 0; padding: 0; overflow: hidden; font-family: 'Cairo', sans-serif; height: 100vh; background: #000; color: var(--text); }

        /* --- Ø´Ø§Ø´Ø© Ø§Ù„Ø¥Ù‚Ù„Ø§Ø¹ (Boot) --- */
        #boot-screen {
            position: fixed; inset: 0; background: #000; z-index: 99999;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            transition: opacity 1s;
        }
        .boot-logo { font-size: 5rem; font-weight: 900; background: linear-gradient(45deg, var(--hatim-green), #00d4ff); -webkit-background-clip: text; -webkit-text-fill-color: transparent; margin-bottom: 20px; animation: pulse 2s infinite; }
        .loader { width: 50px; height: 50px; border: 4px solid #333; border-top-color: var(--hatim-green); border-radius: 50%; animation: spin 1s linear infinite; }
        @keyframes spin { 100% { transform: rotate(360deg); } }
        @keyframes pulse { 50% { opacity: 0.7; } }

        /* --- Ø³Ø·Ø­ Ø§Ù„Ù…ÙƒØªØ¨ --- */
        #desktop {
            position: absolute; inset: 0;
            background: url('https://images.unsplash.com/photo-1579546929518-9e396f3cc809?q=80&w=2070&auto=format&fit=crop') center/cover;
            padding: 10px; display: flex; flex-direction: column; flex-wrap: wrap; align-content: flex-start; gap: 10px;
        }

        .desktop-icon {
            width: 85px; height: 95px; display: flex; flex-direction: column; align-items: center; justify-content: center;
            border-radius: 5px; cursor: pointer; transition: 0.2s; text-shadow: 0 2px 4px rgba(0,0,0,0.8);
        }
        .desktop-icon:hover { background: rgba(255,255,255,0.1); }
        .desktop-icon i { font-size: 2.5rem; margin-bottom: 5px; filter: drop-shadow(0 4px 6px rgba(0,0,0,0.5)); }
        .desktop-icon span { font-size: 0.85rem; text-align: center; }

        /* --- Ø§Ù„Ù†ÙˆØ§ÙØ° (Windows) --- */
        .window {
            position: absolute; background: #202020; border-radius: 8px;
            box-shadow: 0 20px 50px rgba(0,0,0,0.6), 0 0 0 1px var(--glass-border);
            display: flex; flex-direction: column; overflow: hidden;
            animation: popIn 0.2s cubic-bezier(0.2, 0.8, 0.2, 1);
            min-width: 300px; min-height: 200px; resize: both;
        }
        @keyframes popIn { from { transform: scale(0.95); opacity: 0; } to { transform: scale(1); opacity: 1; } }

        .win-header {
            height: 35px; background: #2b2b2b; display: flex; justify-content: space-between; align-items: center;
            padding: 0 10px; cursor: default; user-select: none;
        }
        .win-title { font-size: 0.85rem; display: flex; align-items: center; gap: 8px; }
        .win-controls { display: flex; }
        .win-btn { width: 40px; height: 35px; display: flex; align-items: center; justify-content: center; cursor: pointer; transition: 0.2s; }
        .win-btn:hover { background: #3a3a3a; }
        .win-btn.close:hover { background: #e81123; }

        .win-body { flex: 1; background: #191919; position: relative; overflow: hidden; cursor: text; }
        .win-body iframe { width: 100%; height: 100%; border: none; }

        /* --- Ø´Ø±ÙŠØ· Ø§Ù„Ù…Ù‡Ø§Ù… --- */
        #taskbar {
            position: fixed; bottom: 0; left: 0; right: 0; height: var(--taskbar-h);
            background: var(--glass); backdrop-filter: blur(20px);
            display: flex; justify-content: space-between; align-items: center;
            padding: 0 15px; border-top: 1px solid var(--glass-border); z-index: 10000;
        }

        .start-btn {
            font-size: 1.5rem; color: #00d4ff; cursor: pointer; padding: 5px 10px; border-radius: 5px; transition: 0.2s;
        }
        .start-btn:hover { background: rgba(255,255,255,0.1); filter: drop-shadow(0 0 5px #00d4ff); }

        .task-apps { flex: 1; display: flex; justify-content: center; gap: 5px; height: 100%; }
        .task-icon {
            width: 40px; height: 40px; margin-top: 4px; border-radius: 5px;
            display: flex; align-items: center; justify-content: center; cursor: pointer;
            font-size: 1.2rem; position: relative; transition: 0.2s;
        }
        .task-icon:hover { background: rgba(255,255,255,0.1); }
        .task-icon.active::after { content: ''; position: absolute; bottom: 2px; width: 15px; height: 3px; background: var(--hatim-green); border-radius: 2px; }

        .system-tray { font-size: 0.8rem; display: flex; flex-direction: column; align-items: flex-end; cursor: default; }

        /* --- Ù‚Ø§Ø¦Ù…Ø© Ø§Ø¨Ø¯Ø£ --- */
        #start-menu {
            position: fixed; bottom: 60px; left: 50%; transform: translateX(-50%) translateY(20px);
            width: 500px; height: 500px; background: rgba(30, 30, 40, 0.95); backdrop-filter: blur(30px);
            border-radius: 10px; border: 1px solid var(--glass-border);
            display: none; flex-direction: column; padding: 25px; box-shadow: 0 0 50px rgba(0,0,0,0.5);
            transition: 0.2s; z-index: 9999;
        }
        #start-menu.show { display: flex; transform: translateX(-50%) translateY(0); }
        
        .start-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 15px; padding-top: 20px; }
        .start-item { display: flex; flex-direction: column; align-items: center; gap: 8px; cursor: pointer; padding: 10px; border-radius: 8px; transition: 0.2s; }
        .start-item:hover { background: rgba(255,255,255,0.1); }
        .start-item i { font-size: 1.8rem; }

        /* --- Ù…Ø­Ø±Ø± HATIM STUDIO (Ø®Ø§ØµÙŠØ© Ø§Ù„Ø³Ù„Ø§Ø´) --- */
        .editor-area { padding: 40px; color: #eee; font-size: 1.1rem; min-height: 100%; outline: none; }
        
        .h-block { padding: 5px 0; position: relative; }
        .h-block:hover::before { content: 'â‹®â‹®'; position: absolute; left: -25px; color: #555; cursor: grab; }
        
        /* Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¹Ø§Ø¦Ù…Ø© Ù„Ù„Ø³Ù„Ø§Ø´ */
        #slash-popup {
            position: fixed; width: 250px; background: #252525; border: 1px solid #444;
            border-radius: 8px; box-shadow: 0 10px 40px rgba(0,0,0,0.5);
            display: none; z-index: 999999; overflow: hidden;
        }
        .slash-item { padding: 10px 15px; cursor: pointer; display: flex; align-items: center; gap: 10px; color: #ccc; font-size: 0.9rem; }
        .slash-item:hover { background: var(--primary); color: white; }

        /* Ù…ÙƒÙˆÙ†Ø§Øª Ø§Ù„Ù…Ø­Ø±Ø± */
        h1.h-block { font-size: 2rem; border-bottom: 1px solid #333; padding-bottom: 10px; color: var(--hatim-green); }
        .todo-box { display: flex; align-items: center; gap: 10px; }
        .todo-check { width: 18px; height: 18px; accent-color: var(--hatim-green); }
        .code-block { background: #111; padding: 15px; border-radius: 6px; font-family: monospace; color: #00ff88; border: 1px solid #333; }

    </style>
</head>
<body>

    <!-- Ø´Ø§Ø´Ø© Ø§Ù„Ø¥Ù‚Ù„Ø§Ø¹ -->
    <div id="boot-screen">
        <div class="boot-logo"><i class="fab fa-windows"></i> HATIM OS</div>
        <div class="loader"></div>
        <p style="margin-top: 20px; color: #666;">ÙŠØªÙ… ØªØ­Ø¶ÙŠØ± Ù†Ø¸Ø§Ù… Ø§Ù„Ù‚Ø§Ø¦Ø¯ Ø­Ø§ØªÙ…...</p>
    </div>

    <!-- Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø³Ù„Ø§Ø´ (Ù…Ø®ÙÙŠØ©) -->
    <div id="slash-popup">
        <div class="slash-item" onclick="execSlash('h1')"><i class="fas fa-heading"></i> Ø¹Ù†ÙˆØ§Ù† ÙƒØ¨ÙŠØ±</div>
        <div class="slash-item" onclick="execSlash('h2')"><i class="fas fa-heading" style="font-size:0.8em"></i> Ø¹Ù†ÙˆØ§Ù† ÙØ±Ø¹ÙŠ</div>
        <div class="slash-item" onclick="execSlash('todo')"><i class="fas fa-check-square"></i> Ù‚Ø§Ø¦Ù…Ø© Ù…Ù‡Ø§Ù…</div>
        <div class="slash-item" onclick="execSlash('code')"><i class="fas fa-code"></i> ÙƒÙˆØ¯ Ø¨Ø±Ù…Ø¬ÙŠ</div>
        <div class="slash-item" onclick="execSlash('img')"><i class="fas fa-image"></i> ØµÙˆØ±Ø©</div>
        <div class="slash-item" onclick="execSlash('youtube')"><i class="fab fa-youtube"></i> ÙÙŠØ¯ÙŠÙˆ ÙŠÙˆØªÙŠÙˆØ¨</div>
    </div>

    <!-- Ø³Ø·Ø­ Ø§Ù„Ù…ÙƒØªØ¨ -->
    <div id="desktop">
        <div class="desktop-icon" onclick="openWindow('studio')">
            <i class="fas fa-pen-nib" style="color:#ff00dd;"></i>
            <span>Hatim Studio</span>
        </div>
        <div class="desktop-icon" onclick="openWindow('browser')">
            <i class="fas fa-globe" style="color:#00d4ff;"></i>
            <span>Ø§Ù„Ù…ØªØµÙØ­</span>
        </div>
        <div class="desktop-icon" onclick="openWindow('files')">
            <i class="fas fa-folder" style="color:#ffcc00;"></i>
            <span>Ù…Ù„ÙØ§ØªÙŠ</span>
        </div>
        <div class="desktop-icon" onclick="openWindow('settings')">
            <i class="fas fa-cog" style="color:#aaa;"></i>
            <span>Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª</span>
        </div>
    </div>

    <!-- Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ù†ÙˆØ§ÙØ° -->
    <div id="windows-area"></div>

    <!-- Ù‚Ø§Ø¦Ù…Ø© Ø§Ø¨Ø¯Ø£ -->
    <div id="start-menu">
        <div style="padding-bottom: 15px; border-bottom: 1px solid #333;">
            <input type="text" placeholder="Ø§Ø¨Ø­Ø« Ø¹Ù† Ø§Ù„ØªØ·Ø¨ÙŠÙ‚Ø§Øª ÙˆØ§Ù„Ù…Ù„ÙØ§Øª..." style="width:100%; padding:10px; background:#111; border:1px solid #333; color:white; border-radius:5px;">
        </div>
        <div style="font-size:0.9rem; font-weight:bold; margin-top:20px;">Ù…Ø«Ø¨ØªØ©</div>
        <div class="start-grid">
            <div class="start-item" onclick="openWindow('studio')"><i class="fas fa-pen-nib" style="color:#ff00dd;"></i> <span>Studio</span></div>
            <div class="start-item" onclick="openWindow('browser')"><i class="fas fa-globe" style="color:#00d4ff;"></i> <span>Web</span></div>
            <div class="start-item" onclick="openWindow('youtube')"><i class="fab fa-youtube" style="color:red;"></i> <span>YouTube</span></div>
            <div class="start-item" onclick="openWindow('files')"><i class="fas fa-folder" style="color:#ffcc00;"></i> <span>Files</span></div>
        </div>
        <div style="margin-top:auto; padding-top:20px; border-top:1px solid #333; display:flex; justify-content:space-between; align-items:center;">
            <div style="display:flex; align-items:center; gap:10px;">
                <div style="width:30px; height:30px; background:var(--hatim-green); border-radius:50%; display:flex; align-items:center; justify-content:center; color:black; font-weight:bold;">H</div>
                <span>Hatim Admin</span>
            </div>
            <i class="fas fa-power-off" style="color:#ff4444; cursor:pointer;" onclick="location.reload()"></i>
        </div>
    </div>

    <!-- Ø´Ø±ÙŠØ· Ø§Ù„Ù…Ù‡Ø§Ù… -->
    <div id="taskbar">
        <div class="start-btn" onclick="toggleStart()"><i class="fab fa-windows"></i></div>
        
        <div class="task-apps" id="task-apps">
            <!-- Ø£ÙŠÙ‚ÙˆÙ†Ø§Øª Ø§Ù„ØªØ·Ø¨ÙŠÙ‚Ø§Øª Ø§Ù„Ù…ÙØªÙˆØ­Ø© ØªØ¸Ù‡Ø± Ù‡Ù†Ø§ -->
        </div>

        <div class="system-tray">
            <div id="clock-time" style="font-weight:bold;">12:00 AM</div>
            <div id="clock-date" style="font-size:0.75rem; color:#aaa;">2026/01/01</div>
        </div>
    </div>

    <script>
        // --- 1. Boot System ---
        window.onload = () => {
            setTimeout(() => {
                document.getElementById('boot-screen').style.opacity = '0';
                setTimeout(() => {
                    document.getElementById('boot-screen').style.display = 'none';
                    // ØªØ´ØºÙŠÙ„ ØµÙˆØª Ø§Ù„ØªØ±Ø­ÙŠØ¨ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)
                    // new Audio('startup.mp3').play().catch(e=>{});
                }, 1000);
            }, 2500);
            updateClock();
        };

        // --- 2. Window Management (Ù‚Ù„Ø¨ Ø§Ù„Ù†Ø¸Ø§Ù…) ---
        let zIndex = 100;
        const windowsArea = document.getElementById('windows-area');
        const taskApps = document.getElementById('task-apps');

        const apps = {
            'studio': { title: 'Hatim Studio', icon: 'fas fa-pen-nib', color: '#ff00dd', type: 'editor' },
            'browser': { title: 'Ù…ØªØµÙØ­ Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª', icon: 'fas fa-globe', color: '#00d4ff', type: 'iframe', url: 'https://www.wikipedia.org' },
            'youtube': { title: 'YouTube', icon: 'fab fa-youtube', color: 'red', type: 'iframe', url: 'https://www.youtube.com/embed/jfKfPfyJRdk' },
            'files': { title: 'Ù…Ù„ÙØ§Øª Ø§Ù„Ù†Ø¸Ø§Ù…', icon: 'fas fa-folder', color: '#ffcc00', type: 'html', content: '<div style="padding:20px; text-align:center;"><i class="fas fa-folder-open" style="font-size:5rem; color:#333;"></i><p>Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ù…Ù„ÙØ§Øª Ø§Ù„Ù‚Ø§Ø¦Ø¯...</p></div>' },
            'settings': { title: 'Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª', icon: 'fas fa-cog', color: '#aaa', type: 'html', content: '<div style="padding:20px;"><h2>Ù†Ø¸Ø§Ù… Ø­Ø§ØªÙ… 1.0</h2><p>ØªÙ… Ø§Ù„ØªØ·ÙˆÙŠØ± Ø¨ÙˆØ§Ø³Ø·Ø© Ø­Ø§ØªÙ… Ø¢ÙŠØª Ø£Ø¬Ùˆ.</p><button style="padding:10px; background:var(--primary); border:none; color:white; border-radius:5px;">ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù†Ø¸Ø§Ù…</button></div>' }
        };

        function openWindow(appId) {
            const app = apps[appId];
            document.getElementById('start-menu').classList.remove('show');

            // Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù†Ø§ÙØ°Ø©
            const wid = 'win-' + Date.now();
            const win = document.createElement('div');
            win.className = 'window';
            win.id = wid;
            win.style.zIndex = ++zIndex;
            win.style.left = (100 + Math.random()*50) + 'px';
            win.style.top = (50 + Math.random()*50) + 'px';
            win.style.width = '800px';
            win.style.height = '500px';

            // Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ù†Ø§ÙØ°Ø©
            let content = '';
            if(app.type === 'iframe') content = `<iframe src="${app.url}"></iframe>`;
            else if(app.type === 'html') content = `<div class="win-body">${app.content}</div>`;
            else if(app.type === 'editor') content = `
                <div class="win-body" onclick="focusEditor('${wid}')">
                    <div id="editor-${wid}" class="editor-area" contenteditable="true" spellcheck="false">
                        <h1 class="h-block">Ù…Ø±Ø­Ø¨Ù‹Ø§ Ø¨Ùƒ ÙÙŠ Hatim Studio ğŸš€</h1>
                        <div class="h-block">Ø§Ø¶ØºØ· "/" Ù„ØªØ±Ù‰ Ø§Ù„Ø³Ø­Ø±...</div>
                    </div>
                </div>`;

            win.innerHTML = `
                <div class="win-header" onmousedown="dragWindow(event, '${wid}')">
                    <div class="win-title"><i class="${app.icon}" style="color:${app.color}"></i> ${app.title}</div>
                    <div class="win-controls">
                        <div class="win-btn" onclick="minWindow('${wid}')"><i class="fas fa-minus"></i></div>
                        <div class="win-btn" onclick="maxWindow('${wid}')"><i class="far fa-square"></i></div>
                        <div class="win-btn close" onclick="closeWindow('${wid}')"><i class="fas fa-times"></i></div>
                    </div>
                </div>
                ${content}
            `;

            // Ø¹Ù†Ø¯ Ø§Ù„Ù†Ù‚Ø± Ø¹Ù„Ù‰ Ø§Ù„Ù†Ø§ÙØ°Ø©ØŒ ØªØµØ¨Ø­ ÙÙŠ Ø§Ù„Ù…Ù‚Ø¯Ù…Ø©
            win.onmousedown = () => { win.style.zIndex = ++zIndex; };

            windowsArea.appendChild(win);
            addToTaskbar(wid, app);

            // ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø³Ù„Ø§Ø´ Ù„Ù„Ù…Ø­Ø±Ø± Ø¥Ø°Ø§ ÙƒØ§Ù† Ù‡Ùˆ Ø§Ù„Ù…ÙØªÙˆØ­
            if(app.type === 'editor') setupEditor(wid);
        }

        function closeWindow(wid) {
            document.getElementById(wid).remove();
            document.getElementById('task-' + wid).remove();
        }

        function maxWindow(wid) {
            const w = document.getElementById(wid);
            if(w.style.width === '100%') {
                w.style.width = '800px'; w.style.height = '500px'; w.style.top = '100px'; w.style.left = '100px';
            } else {
                w.style.width = '100%'; w.style.height = 'calc(100% - 48px)'; w.style.top = '0'; w.style.left = '0';
            }
        }

        function minWindow(wid) {
            document.getElementById(wid).style.display = 'none';
            document.getElementById('task-'+wid).classList.remove('active');
        }

        function addToTaskbar(wid, app) {
            const item = document.createElement('div');
            item.className = 'task-icon active';
            item.id = 'task-' + wid;
            item.innerHTML = `<i class="${app.icon}" style="color:${app.color}"></i>`;
            item.onclick = () => {
                const w = document.getElementById(wid);
                if(w.style.display === 'none') {
                    w.style.display = 'flex';
                    w.style.zIndex = ++zIndex;
                    item.classList.add('active');
                } else {
                    // Ø¥Ø°Ø§ ÙƒØ§Ù†Øª ÙÙŠ Ø§Ù„Ù…Ù‚Ø¯Ù…Ø©ØŒ Ù‚Ù… Ø¨ØªØµØºÙŠØ±Ù‡Ø§
                    if(parseInt(w.style.zIndex) === zIndex) {
                        minWindow(wid);
                    } else {
                        w.style.zIndex = ++zIndex;
                    }
                }
            };
            taskApps.appendChild(item);
        }

        // --- 3. Window Dragging Logic ---
        function dragWindow(e, wid) {
            if(e.target.classList.contains('win-btn') || e.target.closest('.win-btn')) return;
            const win = document.getElementById(wid);
            win.style.zIndex = ++zIndex;
            
            let shiftX = e.clientX - win.getBoundingClientRect().left;
            let shiftY = e.clientY - win.getBoundingClientRect().top;

            function moveAt(pageX, pageY) {
                win.style.left = pageX - shiftX + 'px';
                win.style.top = pageY - shiftY + 'px';
            }

            function onMouseMove(event) { moveAt(event.pageX, event.pageY); }

            document.addEventListener('mousemove', onMouseMove);

            win.onmouseup = function() {
                document.removeEventListener('mousemove', onMouseMove);
                win.onmouseup = null;
            };
        }

        // --- 4. Hatim Studio Logic (Slash Commands) ---
        let currentEditor = null;
        let lastRange = null;

        function setupEditor(wid) {
            const ed = document.getElementById('editor-' + wid);
            
            ed.addEventListener('keyup', (e) => {
                const sel = window.getSelection();
                if(!sel.rangeCount) return;
                
                // ÙƒØ´Ù Ø§Ù„Ø³Ù„Ø§Ø´ /
                if (e.key === '/') {
                    const range = sel.getRangeAt(0);
                    const rect = range.getBoundingClientRect();
                    currentEditor = ed;
                    lastRange = range;
                    
                    const menu = document.getElementById('slash-popup');
                    menu.style.display = 'block';
                    menu.style.top = (rect.bottom + 5) + 'px';
                    menu.style.left = rect.left + 'px';
                } else {
                    document.getElementById('slash-popup').style.display = 'none';
                }

                if(e.key === 'Enter') {
                    e.preventDefault();
                    document.execCommand('insertHTML', false, '<div class="h-block"><br></div>');
                }
            });
        }

        function execSlash(type) {
            document.getElementById('slash-popup').style.display = 'none';
            if(currentEditor) currentEditor.focus();
            
            // Ø­Ø°Ù Ø§Ù„Ù€ /
            document.execCommand('delete');

            let html = '';
            switch(type) {
                case 'h1': html = '<h1 class="h-block">Ø¹Ù†ÙˆØ§Ù† ÙƒØ¨ÙŠØ±</h1>'; break;
                case 'h2': html = '<h2 class="h-block">Ø¹Ù†ÙˆØ§Ù† ÙØ±Ø¹ÙŠ</h2>'; break;
                case 'todo': html = '<div class="h-block todo-box"><input type="checkbox" class="todo-check"><span>Ù…Ù‡Ù…Ø© Ø¬Ø¯ÙŠØ¯Ø©</span></div>'; break;
                case 'code': html = '<div class="h-block code-block">console.log("Hatim OS Rocks!");</div>'; break;
                case 'img': 
                    const url = prompt('Ø±Ø§Ø¨Ø· Ø§Ù„ØµÙˆØ±Ø©:');
                    if(url) html = `<div class="h-block"><img src="${url}" style="max-width:100%; border-radius:8px;"></div>`; 
                    break;
                case 'youtube':
                    const v = prompt('Ø±Ø§Ø¨Ø· ÙŠÙˆØªÙŠÙˆØ¨:');
                    if(v) html = `<div class="h-block"><iframe width="100%" height="300" src="https://www.youtube.com/embed/${v.split('v=')[1]||''}" style="border:none;"></iframe></div>`;
                    break;
            }
            
            if(html) {
                document.execCommand('insertHTML', false, html);
                document.execCommand('insertHTML', false, '<div class="h-block"><br></div>');
            }
        }

        // --- 5. System Utilities ---
        function toggleStart() {
            document.getElementById('start-menu').classList.toggle('show');
        }

        // Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ù‚ÙˆØ§Ø¦Ù… Ø¹Ù†Ø¯ Ø§Ù„Ù†Ù‚Ø± Ø®Ø§Ø±Ø¬Ù‡Ø§
        window.addEventListener('click', (e) => {
            if(!e.target.closest('#start-menu') && !e.target.closest('.start-btn')) {
                document.getElementById('start-menu').classList.remove('show');
            }
        });

        function updateClock() {
            const now = new Date();
            document.getElementById('clock-time').innerText = now.toLocaleTimeString('en-US', {hour:'numeric', minute:'2-digit'});
            document.getElementById('clock-date').innerText = now.toLocaleDateString('en-US');
            setTimeout(updateClock, 1000);
        }

    </script>
</body>
</html>

            

